<p align="center">
  <img src="https://img.shields.io/badge/CBSE-10th%20%26%2012th-E53935?style=for-the-badge" alt="CBSE 10th & 12th" />
  <img src="https://img.shields.io/badge/AI%20Powered-Gemini-4285F4?style=for-the-badge&logo=google" alt="Gemini AI" />
  <img src="https://img.shields.io/badge/Platform-Android%20%7C%20Web-00C853?style=for-the-badge" alt="Multi-Platform" />
</p>

<h1 align="center">PrepVerse</h1>

<p align="center">
  <strong>Smart Examverse for CBSE Students</strong><br/>
  Adaptive learning platform combining AI-powered tutoring, focus tools, and peer collaboration.
</p>

<p align="center">
  <a href="#-guru-ai-mode">GURU AI</a> â€¢
  <a href="#-features">Features</a> â€¢
  <a href="#-tech-stack">Tech Stack</a> â€¢
  <a href="#-getting-started">Getting Started</a> â€¢
  <a href="#-architecture">Architecture</a>
</p>

---

## ğŸ§  GURU AI Mode

<p align="center">
  <img src="https://img.shields.io/badge/Powered%20By-Google%20Gemini%20Flash%203-4285F4?style=for-the-badge&logo=google" alt="Gemini Flash 3" />
</p>

> *"If you can't explain it simply, you don't understand it well enough."* â€” Richard Feynman

**GURU Mode** is PrepVerse's breakthrough AI tutoring system that flips traditional learning on its head. Instead of passively absorbing information, students **teach concepts to an AI student** â€” proving mastery through explanation.

<p align="center">
  <img src="assets/guru-mode-demo.jpeg" alt="GURU AI Mode Demo - Teaching Modern Physics" width="800" />
  <br/>
  <em>Teaching "Dual Nature" in Modern Physics to an AI peer student</em>
</p>

### How It Works

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        GURU AI MODE                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚   1. SELECT TOPIC         â†’   "Quadratic Equations"             â”‚
â”‚                                                                  â”‚
â”‚   2. CHOOSE AI PERSONA    â†’   ğŸ§’ 5-Year-Old                     â”‚
â”‚                               ğŸ‘¥ Peer (Classmate)               â”‚
â”‚                               ğŸ¤” Skeptic                         â”‚
â”‚                               ğŸ’¡ Curious Beginner               â”‚
â”‚                                                                  â”‚
â”‚   3. TEACH THE AI         â†’   Explain in your own words         â”‚
â”‚                                                                  â”‚
â”‚   4. AI RESPONDS          â†’   Asks clarifying questions         â”‚
â”‚                               Shows confusion level (0-100)     â”‚
â”‚                               Challenges weak explanations      â”‚
â”‚                                                                  â”‚
â”‚   5. REPORT CARD          â†’   Accuracy Score (0-10)             â”‚
â”‚                               Simplicity Score (0-10)           â”‚
â”‚                               XP Earned (50-90 XP)              â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### The Feynman Technique

GURU Mode implements the **Feynman Technique** â€” a proven learning method where explaining concepts in simple terms reveals gaps in understanding:

| Score | Criteria |
|-------|----------|
| **Accuracy (0-10)** | Did you convey correct information? Were key concepts covered? |
| **Simplicity (0-10)** | Did you avoid jargon? Could a child understand your explanation? |

### AI Personas

Each persona creates a unique teaching challenge:

| Persona | Behavior | Challenge |
|---------|----------|-----------|
| ğŸ§’ **5-Year-Old** | No technical terms allowed | Requires analogies and simple language |
| ğŸ‘¥ **Peer** | Missed the lesson, needs catching up | Must explain key concepts quickly |
| ğŸ¤” **Skeptic** | Questions everything, asks for proof | Requires evidence and logical reasoning |
| ğŸ’¡ **Curious Beginner** | Excited to learn, asks follow-ups | Must handle tangential questions |

### Real-Time Feedback

- **Confusion Meter**: Visual indicator showing how well the AI understands (0-100)
- **Dynamic Questions**: AI asks follow-up questions based on your explanation
- **Satisfaction Detection**: AI signals when it finally understands
- **Hidden Ground Truth**: AI internally knows the correct answer and validates explanations

### XP & Rewards

```
XP Formula = 50 (base) + (Accuracy + Simplicity) Ã— 2

Minimum XP: 50 (for completing session)
Maximum XP: 90 (perfect 10/10 on both scores)
```

---

## âœ¨ Features

### ğŸ“š Adaptive Practice
- **AI-Generated Questions**: Fresh questions powered by Gemini, tailored to your level
- **Concept-Based Difficulty**: Questions adapt based on per-topic mastery scores
- **Instant Feedback**: Explanations for every answer
- **Topic Selection**: Full CBSE curriculum for Math, Physics, Chemistry, Biology

### ğŸ¯ Focus Mode
- **Pomodoro Timer**: Configurable work/break sessions (5-120 min)
- **App Blocking** (Android): Accessibility service detects when you leave the app
- **Do Not Disturb**: Automatic DND activation during sessions
- **Violation Tracking**: 3 violations = session terminated
- **Statistics**: Track focus time, interruptions, and streaks

### ğŸ“Š Progress Dashboard
- **Real-Time Analytics**: Track accuracy, attempts, and time spent
- **Concept Mastery**: Per-topic score breakdown (0-100%)
- **Strength/Weakness Analysis**: AI-identified areas to focus on
- **Trends & Charts**: Visualize progress over time

### ğŸ‘¥ Peer Collaboration
- **Study Rooms**: Create rooms for 2-4 students (same school/class only)
- **Real-Time Chat**: End-to-end encrypted messaging (AES-256-CBC)
- **Collaborative Whiteboard**: Draw and explain concepts together
- **Voice Calls**: WebRTC-based peer-to-peer voice chat
- **Peer Discovery**: Find classmates studying the same topic

### âš”ï¸ Study Battles
- **1v1 Competitions**: Race to answer questions correctly
- **Timed Rounds**: 10 questions in 5 minutes
- **XP Stakes**: Winner earns 75 XP
- **Leaderboards**: Compete within your school

### ğŸ’¬ Discussion Forum
- **Subject-Based Categories**: Math, Physics, Chemistry, Biology, Exam Tips
- **Nested Comments**: Reddit-style threaded discussions
- **Voting System**: Upvote helpful posts and answers
- **Search & Filter**: Find relevant discussions quickly

### ğŸ† Gamification
- **XP System**: Earn points for every action
- **Levels & Badges**: Progress from Beginner to PrepVerse Pro
- **Daily Streaks**: Bonus XP for consistency
- **School Leaderboards**: Compete with classmates

### ğŸ“± Offline Support
- **Question Cache**: Practice without internet
- **Auto-Sync**: WorkManager (Android) / Service Worker (Web)
- **Progress Saved Locally**: Never lose your work

---

## ğŸ›  Tech Stack

### Mobile (Android)
| Technology | Purpose |
|------------|---------|
| **Kotlin** | Primary language |
| **Jetpack Compose** | Modern declarative UI |
| **Hilt** | Dependency injection |
| **Room** | Local database (offline) |
| **DataStore** | Preferences storage |
| **Retrofit + OkHttp** | API client |
| **WebRTC** | Voice calls |
| **WorkManager** | Background sync |

### Web (PWA)
| Technology | Purpose |
|------------|---------|
| **React 18** | UI framework |
| **TypeScript** | Type safety |
| **Vite** | Build tool |
| **TailwindCSS** | Styling |
| **Zustand** | State management |
| **Dexie.js** | IndexedDB wrapper |
| **Service Worker** | Offline support |

### Backend
| Technology | Purpose |
|------------|---------|
| **FastAPI** | Python web framework |
| **Supabase (PostgreSQL)** | Primary database |
| **Supabase Realtime** | WebSocket channels |
| **Google Gemini Flash 3** | AI question generation & GURU mode |
| **Auth0** | Authentication (Google OAuth) |
| **Pydantic** | Data validation |

---

## ğŸš€ Getting Started

### Prerequisites

- Python 3.11+
- Node.js 18+
- Android Studio (for mobile development)
- [uv](https://github.com/astral-sh/uv) (Python package manager)

### 1. Clone the Repository

```bash
git clone https://github.com/yourusername/prepverse.git
cd prepverse
```

### 2. Backend Setup

```bash
cd backend

# Install dependencies
uv sync

# Configure environment
cp .env.example .env
# Edit .env with your credentials:
# - SUPABASE_URL, SUPABASE_KEY
# - AUTH0_DOMAIN, AUTH0_CLIENT_ID, AUTH0_CLIENT_SECRET
# - GEMINI_API_KEY
# - SESSION_SECRET_KEY

# Start development server
uv run uvicorn app.main:app --reload
# API available at http://localhost:8000
# Docs at http://localhost:8000/docs
```

### 3. Web Setup

```bash
cd web

# Install dependencies
npm install

# Configure environment
cp .env.example .env
# Edit .env:
# - VITE_API_URL=http://localhost:8000
# - VITE_SUPABASE_URL, VITE_SUPABASE_ANON_KEY

# Start development server
npm run dev
# App available at http://localhost:5173
```

### 4. Android Setup

1. Open the project in Android Studio
2. Create `local.properties` with your SDK path
3. Configure `app/build.gradle.kts`:
   - Set API base URL (use `10.0.2.2:8000` for emulator)
4. Build and run:
   ```bash
   ./gradlew assembleDebug
   ```

---

## ğŸ“ Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CLIENTS                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      Android App          â”‚           Web App (PWA)              â”‚
â”‚   (Kotlin + Compose)      â”‚      (React + TypeScript)           â”‚
â”‚                           â”‚                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚   â”‚   Room DB       â”‚     â”‚     â”‚   IndexedDB     â”‚             â”‚
â”‚   â”‚   (Offline)     â”‚     â”‚     â”‚   (Dexie.js)    â”‚             â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚           â”‚               â”‚              â”‚                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚   â”‚   WorkManager   â”‚     â”‚     â”‚  Service Worker â”‚             â”‚
â”‚   â”‚   (Sync)        â”‚     â”‚     â”‚  (Sync)         â”‚             â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                               â”‚
            â”‚         HTTPS/WSS            â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚          Auth0                â”‚
            â”‚    (Google OAuth Only)        â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ JWT / Session Cookie
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚      FastAPI Backend           â”‚
            â”‚      (Python 3.11+)            â”‚
            â”‚                                â”‚
            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
            â”‚  â”‚   API Routes (v1)        â”‚  â”‚
            â”‚  â”‚   - /auth, /onboarding   â”‚  â”‚
            â”‚  â”‚   - /questions, /guru    â”‚  â”‚
            â”‚  â”‚   - /practice, /focus    â”‚  â”‚
            â”‚  â”‚   - /peer, /forum        â”‚  â”‚
            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                    â”‚                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Supabase   â”‚    â”‚    Gemini     â”‚    â”‚    Supabase     â”‚
â”‚   PostgreSQL â”‚    â”‚   Flash 3     â”‚    â”‚    Realtime     â”‚
â”‚  (Primary DB)â”‚    â”‚     (AI)      â”‚    â”‚   (WebSocket)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Authentication Flow

PrepVerse uses **server-side OAuth** for web (HTTP-only cookies) and **client-side OAuth** for mobile (Bearer tokens):

- **Web**: Frontend â†’ Backend `/auth/login` â†’ Auth0 â†’ Backend `/auth/callback` â†’ Set Cookie
- **Android**: Chrome Custom Tabs â†’ Auth0 â†’ Deep Link `prepverse://auth/callback` â†’ Store Token

See `backend/app/core/security.py` for the unified authentication handler.

---

## ğŸ“ Project Structure

```
prepverse/
â”œâ”€â”€ app/                          # Android App
â”‚   â””â”€â”€ src/main/java/com/prepverse/
â”‚       â”œâ”€â”€ di/                   # Hilt modules
â”‚       â”œâ”€â”€ data/                 # Repositories, API, local DB
â”‚       â”œâ”€â”€ domain/               # Models, use cases
â”‚       â”œâ”€â”€ ui/                   # Compose screens
â”‚       â”‚   â””â”€â”€ screens/
â”‚       â”‚       â”œâ”€â”€ guru/         # GURU AI Mode
â”‚       â”‚       â”œâ”€â”€ practice/     # Practice Mode
â”‚       â”‚       â”œâ”€â”€ focus/        # Focus Mode
â”‚       â”‚       â””â”€â”€ peer/         # Peer Collaboration
â”‚       â””â”€â”€ services/             # Foreground services
â”‚
â”œâ”€â”€ web/                          # React Web App
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ api/                  # API client functions
â”‚       â”œâ”€â”€ components/           # Reusable UI components
â”‚       â”‚   â””â”€â”€ guru/             # GURU Mode components
â”‚       â”œâ”€â”€ hooks/                # Custom React hooks
â”‚       â”œâ”€â”€ pages/                # Route pages
â”‚       â”‚   â”œâ”€â”€ GuruMode.tsx      # GURU AI main page
â”‚       â”‚   â””â”€â”€ GuruHistory.tsx   # Teaching history
â”‚       â””â”€â”€ store/                # Zustand stores
â”‚
â”œâ”€â”€ backend/                      # FastAPI Backend
â”‚   â””â”€â”€ app/
â”‚       â”œâ”€â”€ api/v1/               # Route handlers
â”‚       â”‚   â”œâ”€â”€ guru.py           # GURU Mode endpoints
â”‚       â”‚   â”œâ”€â”€ practice.py       # Practice endpoints
â”‚       â”‚   â””â”€â”€ ...
â”‚       â”œâ”€â”€ core/
â”‚       â”‚   â”œâ”€â”€ gemini.py         # Gemini AI client
â”‚       â”‚   â”œâ”€â”€ security.py       # Auth (cookie + bearer)
â”‚       â”‚   â””â”€â”€ oauth.py          # Auth0 OAuth client
â”‚       â”œâ”€â”€ services/
â”‚       â”‚   â”œâ”€â”€ guru_service.py   # GURU business logic
â”‚       â”‚   â””â”€â”€ ...
â”‚       â””â”€â”€ schemas/              # Pydantic models
â”‚
â”œâ”€â”€ Memory.md                     # File reference & recent updates
â”œâ”€â”€ SPEC.md                       # Full technical specification
â””â”€â”€ CLAUDE.md                     # Development guidelines
```

---

## ğŸ“š API Reference

Base URL: `http://localhost:8000/api/v1`

### GURU Mode Endpoints

| Method | Endpoint | Description |
|--------|----------|-------------|
| `POST` | `/guru/start` | Start a new teaching session |
| `POST` | `/guru/chat` | Send message, get AI response |
| `POST` | `/guru/end` | End session, get report card |
| `POST` | `/guru/abandon` | Quit without grading |
| `GET` | `/guru/history` | View past sessions |
| `GET` | `/guru/active` | Check for active session |

### Other Endpoints

| Module | Key Endpoints |
|--------|---------------|
| Auth | `/auth/login`, `/auth/callback`, `/auth/me`, `/auth/logout` |
| Onboarding | `/onboarding/questions`, `/onboarding/submit`, `/onboarding/status` |
| Practice | `/practice/session/start`, `/practice/session/{id}/submit` |
| Questions | `/questions/generate`, `/questions/topics` |
| Progress | `/progress/dashboard`, `/progress/concepts` |
| Focus | `/focus/start`, `/focus/end`, `/focus/history` |
| Peer | `/peer/sessions`, `/peer/messages`, `/peer/availability` |
| Forum | `/forum/`, `/forum/{postId}/comments`, `/forum/{postId}/vote` |

Interactive API docs: `http://localhost:8000/docs`

---

## ğŸ”’ Security

- **Authentication**: Auth0 with Google OAuth only
- **Session Management**: HTTP-only cookies (web), encrypted storage (Android)
- **Database**: Supabase with Row Level Security (RLS)
- **Peer Chat**: End-to-end encryption (AES-256-CBC)
- **API**: HTTPS enforced in production

---

## ğŸ¯ Target Users

- **CBSE Class 10 & 12 Students**
- **Subjects**: Mathematics, Physics, Chemistry, Biology
- **India-focused**: 20,000+ CBSE schools in database for peer matching

---

## ğŸ“„ License

MIT License - see [LICENSE](LICENSE) for details.

---

## ğŸ™ Acknowledgments

- [Google Gemini](https://ai.google.dev/) for powering GURU AI Mode
- [Auth0](https://auth0.com/) for authentication
- [Supabase](https://supabase.com/) for database and realtime features
- [Feynman Technique](https://fs.blog/feynman-learning-technique/) for the learning methodology

---

<p align="center">
  <strong>Built with â¤ï¸ for CBSE students</strong><br/>
  <sub>Making exam prep smarter, not harder.</sub>
</p>
